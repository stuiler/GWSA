<!DOCTYPE html>
<html>
<head>

	
		<title>MA GHG Emissions Overview</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<button class="chart-update selected" data-chart-name="chart1">GHG Emissions Overview</button>
<button class="chart-update" data-chart-name="chart2">GHG Emissions by Sector</button>

<style>
	button.chart-update {
 		 cursor: pointer;
		 background-color: rgba(0, 155, 255, 1);
		 border: none;
		 border-radius: 5px;
		 box-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
		 color: rgba(255, 255, 255, 0.9);
 		 font-weight: bold;
 		 padding: 0.5em;
 		 margin: 0.5em;
		};
	button.selected {
  background-color: rgba(255, 99, 0, 1);
}
</style>
	
<script type="text/javascript">	
	var chart,
	      chartOptions = {};
chartOptions.chart1 = {
    chart: {
        zoomType: 'xy'
      },
      title: {
        text: 'Massachusetts Greenhouse Gas (GHG) Emissions and Goals'
      },
      subtitle: {
        text: 'Source: MassDEP (2020). Massachusetts Annual Greenhouse Gas Emissions Inventory: 1990-2017'
      },
      xAxis: {
        labels: {
          formatter: function() {
            return this.value
          }
        }
      },
      yAxis: [{ // Primary yAxis
        title: {
          text: 'GHG Emissions (MMTCO2e)',
          style: {
            color: 'black'
          }
        },
        labels: {
          format: '{value:.,0f}',
          style: {
            color: 'black'
          }
        }
      }],
      credits: {
        enabled: false
      },
      tooltip: {
        formatter: function(tooltip) {
          if (this.series.name == 'GWSA Emissions Limits') {
            return ['GWSA ' + this.x + ' Emissions Limit' + '<br>' +'<b>' + this.y + '</b>' + ' MMTCO2e (' + '<b>' + Math.round(100 - (100 * this.y / 94.29)) + '%' + '</b>' + ' below 1990 emissions)']
          } else if (this.series.name == 'Paris Agreement Goal') {
            return ['Paris Agreement ' + this.x + ' Emissions Goal <br> <b>69.4 - 71.4</b> MMTCO2e (28% to 26% below 2005 emissions)']
            } else if (this.series.name == 'NEG/ECP Goals') {
            return ["New England Governors' and Eastern Canadian Premiers' 2030 Emissions Goal <br> <b>51.9 - 61.4</b> MMTCO2e (45% to 35% below 1990 emissions)"]
          } else {
            return ['<b>' + this.series.name + '</b><br/>' +
                    this.x + ': ' + this.y + ' MMTCO2e']
          }
        },
        shared: false
      },
      series: [{
          name: 'Mass. Historical GHG Emissions',
          type: 'line',
          data: [
		  { x: 1990, y: 94.3 },
{ x: 1991, y: 92.5 },
{ x: 1992, y: 94.8 },
{ x: 1993, y: 92.7 },
{ x: 1994, y: 92.7 },
{ x: 1995, y: 90.5 },
{ x: 1996, y: 91.6 },
{ x: 1997, y: 96.4 },
{ x: 1998, y: 93.7 },
{ x: 1999, y: 92.7 },
{ x: 2000, y: 94.5 },
{ x: 2001, y: 93.5 },
{ x: 2002, y: 95.4 },
{ x: 2003, y: 96.7 },
{ x: 2004, y: 94.9 },
{ x: 2005, y: 96.7 },
{ x: 2006, y: 88.1 },
{ x: 2007, y: 90.8 },
{ x: 2008, y: 88.5 },
{ x: 2009, y: 82.2 },
{ x: 2010, y: 83.3 },
{ x: 2011, y: 78.5 },
{ x: 2012, y: 71.9 },
{ x: 2013, y: 75.6 },
{ x: 2014, y: 73.8 },
{ x: 2015, y: 75.9 },
{ x: 2016, y: 73.8 },
{ x: 2017, y: 73.0 },
{ x: 2018, y: 73.2}
          ],
          color: 'black',
          label: {
            enabled: false
          },
          marker: {
            enabled: false
          }
        },
        {
          name: 'GWSA Emissions Limits',
          type: 'scatter',
          data: [{
              x: 2020,
              y: 70.8
            },
		{
              x: 2030,
              y: 47.2
            },
		 {
              x: 2040,
              y: 23.6
            },
            {
              x: 2050,
              y: 14.1
            }
          ],
          color: 'peru'
        },
        {
          name: 'Paris Agreement Goal',
          type: 'scatter',
					data: [{
              x: 2025,
              y: 70.445
            }
          ],
          color: 'steelblue'
        }
      ]
};
chartOptions.chart2 = {
  chart: {
                type: 'line',
                zoomType: 'xy',
            },
            credits: {
                enabled: false
            },
            title: {
                text: 'MA GHG Emissions and Business-As-Usual (BAU) Projections for Major Sectors, 1990-2020',
            },
            subtitle: {
                text: 'Source:   MassDEP (2017). Massachusetts Annual Greenhouse Gas Emissions Inventory: 1990 through 2016'
            },                
            xAxis: {
                labels: {
                    formatter: function () {
                        return this.value; // clean, unformatted number for year
                    }
                }
            },
            yAxis: {
                title: {
                    text: 'Million Metric Tons of CO2 equivalent (MMTCO2e)'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                enabled: true,
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                    this.x + ': ' + this.y + ' MMTCO2e';
                }
            },
            plotOptions: {
                line: {
                    pointStart: 1990,
                    dataLabels: {
                        enabled: false
                    },
                    enableMouseTracking: true
                }
            }
           ,
            series: [
            <!--- Begin Transportation -->
            {
                name: 'Transportation',
                data: [30.5,29.3,29.1,29.4,29.6,30.1,31.4,31.8,31.9,32.5,33.6,33,32.9,32.9,34.6,34.9,33.7,33.9,33.5,30.7,30.3,30.4,29.7,30.7,28.8,29.5,31.5,30.5,30.8]
               marker: {
                    enabled: false
                },
            color: '#2F7ED8'
            }, 
            <!-- End Transportation -->
            <!--- Begin Electricity Consumption -->
            {
                name: 'Electricity Consumption',
                data: [28,28.1,26.9,25.3,25.4,24.6,24.4,28.5,29,27.5,26.7,26.2,27.8,29.3,28.2,29.6,25.8,27.5,24.8,22.2,22.9,18.1,15.8,16.3,14.8,15.6,14.7,13.6,12.2]
		marker: {
                    enabled: false
                },
                color: '#0d233a'
            },
            <!--- End Electricity Consumption -->
            <!--- Begin Buildings Consumption -->
            {
                name: 'Buildings',
                data: [29.5,29,32.6,32,31.7,29.5,29.4,29.7,26.9,26.5,28.5,28.9,28.9,28.3,26.2,26.4,22.6,23.6,24.3,23.3,24.4,24.2,20.7,22.9,24.6,24.9,21.9,23.3,24.9]
                marker: {
                    enabled: false
                },
                color: '#8bbc21'
            },
            <!--- End Buildings Consumption -->
           
            <!--- Begin Industrial Processes Consumption -->
            {
                name: 'Industrial (Processes)',
                data: [0.7,0.6,0.7,0.8,1,1.4,1.6,1.9,2.1,2.4,2.6,2.7,2.8,2.9,2.9,2.9,3,3.1,3.3,3.5,3.7,3.8,3.9,3.9,4,4.1,4.1,4.1,4.1]
		marker: {
                    enabled: false
                },
                color: '#f28f43',
                visible: false
            }, 
            <!--- End Industrial Processes Consumption -->
        <!--- Begin Agriculture Consumption -->
            {
                name: 'Agriculture',
                data: [0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.5,0.5,0.4,0.3,0.4,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3]
		marker: {
                    enabled: false
                },
                color: '#35ff64',
                visible: false
            }, 
            <!--- End Agriculture Consumption -->
                        
            <!--- Begin Waste Consumption -->
            {
                name: 'Waste',
                data: [2.9,3,2.9,2.8,2.8,2.8,2.6,2.4,1.8,1.8,1.3,0.9,1.3,1.8,1.6,1.4,1.4,1.3,1.3,1.3,0.9,0.9,1,0.9,0.8,0.8,0.8,0.8,0.7]
		visible: false,
                marker: {
                    enabled: false
                },
                color: '#77a1e5'
            }, 
            <!--- End Waste Consumption -->
            ]
};
</script>
<script type="text/javascript">	
	$(function() {
  $('#container109').highcharts(chartOptions.chart1);
  chart = $('#container109').highcharts();
  $(document).on('click', '.chart-update', function() {
    $('button').removeClass('selected');
    $(this).addClass('selected');
    chart.destroy();
    $('#container109').highcharts(chartOptions[$(this).data('chartName')]);
    chart = $('#container109').highcharts();
	});
		});
	</script>

	
	</head>
	<body>
		
<div  id="container109" style="min-width: 400px; max-width:100%; height: 700px; margin: 0 auto">


</div>

	</body>
</html>
